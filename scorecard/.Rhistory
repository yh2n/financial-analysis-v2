source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/calculate_basket_returns.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_B_v53.R')
source('~/Desktop/scorecard/script/scorecard_B_v53.R')
source('~/Desktop/scorecard/script/scorecard_B_v53.R')
source('~/Desktop/scorecard/script/scorecard_B_v53.R')
source('~/Desktop/scorecard/script/scorecard_B_v53.R')
source('~/Desktop/scorecard/script/scorecard_B_v53.R')
source('~/Desktop/scorecard/script/scorecard_B_v53.R')
source('~/Desktop/scorecard/script/scorecard_B_v53.R')
source('~/Desktop/scorecard/script/scorecard_B_v53.R')
source('~/Desktop/scorecard/script/scorecard_B_v53.R')
source('~/Desktop/scorecard/script/scorecard_B_v53.R')
source('~/Desktop/scorecard/script/scorecard_B_v53.R')
source('~/Desktop/scorecard/script/scorecard_B_v53.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_B_v53.R')
source('~/Desktop/scorecard/script/scorecard_B_v53.R')
source('~/Desktop/scorecard/script/scorecard_B_v53.R')
source('~/Desktop/scorecard/script/scorecard_B_v53.R')
source('~/Desktop/scorecard/script/scorecard_B_v53.R')
source('~/Desktop/scorecard/script/scorecard_B_v53.R')
source('~/Desktop/scorecard/script/scorecard_B_v53.R')
source('~/Desktop/scorecard/script/scorecard_B_v53.R')
source('~/Desktop/scorecard/script/scorecard_B_v53.R')
source('~/Desktop/scorecard/script/scorecard_B_v53.R')
source('~/Desktop/scorecard/script/scorecard_B_v53.R')
source('~/Desktop/scorecard/script/scorecard_B_v53.R')
source('~/Desktop/scorecard/script/scorecard_B_v53.R')
source('~/Desktop/scorecard/script/scorecard_B_v53.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
debugSource('~/Desktop/scorecard/script/scorecard_T_v49.R')
prices
prices["Ad"]
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
source('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
source('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
debugSource('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
source('~/Desktop/scorecard/script/calc_close_to_high.R')
debugSource('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
source("calc_close_to_high.R")
source('~/Desktop/scorecard/script/close_to_high.R')
source('~/Desktop/scorecard/script/calc_close_to_high.R')
all_columns = colnames(prices)
all_columns
price_df["ADBE"]
price["ADBE"]
prices["ADBE"]
prices[, "ADBE"]
hiprices - lag(prices)
(hiprices - lag(prices)) / lag(prices)
debugSource('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
r_hi_daily
source('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
close_to_high_cols
close_to_high_cols <- paste0("Close to High T+1 > ", CLOSE_TO_HIGH_THRESHOLDS, "%")
close_to_high_cols
(sum(r_hi_daily >= val) / colSums(!is.na(r_hi_daily))) * 100
(sum(r_hi_daily >= 5) / colSums(!is.na(r_hi_daily))) * 100
(sum(r_hi_daily >= 0) / colSums(!is.na(r_hi_daily))) * 100
(sum(r_hi_daily >= val, na.omit=TRUE) / colSums(!is.na(r_hi_daily))) * 100
(sum(r_hi_daily >= 0, na.omit=TRUE) / colSums(!is.na(r_hi_daily))) * 100
sum(r_hi_daily >= 0, na.omit=TRUE)
colSums(!is.na(r_hi_daily))
colSums(r_hi_daily >= val, na.omit=TRUE)
colSums(!is.na(r_hi_daily >= val))
colSums(!is.na(r_hi_daily >= 0))
colSums(!is.na(r_hi_daily >= 5))
colSums((r_hi_daily >= 5)
)
colSums((!is.na(r_hi_daily) >= 5)
)
colSums(!is.na(r_hi_daily) >= 5)
!is.na(r_hi_daily) >= 5
r_hi_daily
!is.na(r_hi_daily) >= 5
NA_real_ > 5
!is.na(r_hi_daily) >= 100000
!is.na(r_hi_daily)
r_hi_daily > 0
colSums(r_hi_daily > 0)
tail(r_hi_daily)
tail(r_hi_daily > 0)
colSums(r_hi_daily >= val)
colSums(r_hi_daily >= 0)
colSums(r_hi_daily >= 0, na.rm=T)
colSums(r_hi_daily >= 5, na.rm=T)
source('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
source('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
debugSource('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
traceback()
beats_threshold <- (colSums(r_hi_daily >= 0.5, na.rm=T) / colSums(!is.na(r_hi_daily))) * 100
beats_threshold
source('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
debugSource('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
result
val
traceback()
debugSource('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
traceback()
debugSource('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
traceback()
debugSource('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
r_hi_daily
print(r_hi_daily.names)
print(r_hi_daily)
print(stats_df)
source('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
traceback()
source('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
source('~/Desktop/scorecard/script/scorecard_T_v49.R')
dailyReturn
colnames()
colnames
source('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
source('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
traceback()
colnames(stats_k_df)
stats_df.names
names(stats_df)
source('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
stats_df.rows
rows(stats_df)
stats_df
stats_df['Ticker']
toPercent(calc_dist_to_goal(prices, tp_mean), plus_sign=TRUE)
toPercent(colSums(r_hi_daily >= val, na.rm=T) / colSums(!is.na(r_hi_daily)))
tail(r_hi_daily)
_hi_daily <- ((hiprices - lag(prices)) / lag(prices)) * 100
r_hi_daily <- ((hiprices - lag(prices)) / lag(prices)) * 100
tail(r_hi_daily)
source('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
traceback()
r_daily
prices
prices <- as.xts(price_list["Ad"])
prices <- as.xts(price_list["Ad",])
price_list
price_list['Ad']
price_list['Ad']['$Ad']
price_list['$Ad']
price_list['Ad']
prices = unlist(price_list['Ad'])
prices
prices = price_list['Ad']
prices
xcoredata(price_list['Ad'])
xcoredata(prices)
as.xts(price_list['Ad'])
as.xts(lapply(price_list['Ad'], function(tk) {}
source('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
source('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
val
toPercent(colSums(r_hi_daily >= val, na.rm=T) / colSums(!is.na(r_hi_daily)))
source('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
r_hi_daily
val=1
toPercent(colSums(r_hi_daily >= val, na.rm=T) / colSums(!is.na(r_hi_daily)))
colnames(toPercent(colSums(r_hi_daily >= val, na.rm=T) / colSums(!is.na(r_hi_daily))))
toPercent(colSums(r_hi_daily >= val, na.rm=T) / colSums(!is.na(r_hi_daily))).columns
test = toPercent(colSums(r_hi_daily >= val, na.rm=T) / colSums(!is.na(r_hi_daily))).columns
test = toPercent(colSums(r_hi_daily >= val, na.rm=T) / colSums(!is.na(r_hi_daily)))
test
columns(test)
names(test)
names(stats_df)
names(stats_df['Ticker'])
stats_df['Ticker']
stats_df[, 'Ticker']
names(test)
stats_df
stats_df[, 'Ticker']
stats_df[, '1Y Sharpe']
toPercent(calc_dist_to_goal(prices, tp_mean), plus_sign=TRUE)
calc_dist_to_goal <- function(p, goal) {
if(!is.null(goal)) {
return(goal[stats_df[, "Ticker"]] / as.numeric(last(p[, stats_df[, "Ticker"]])) - 1)
} else {
return(NA)
}
}
toPercent(calc_dist_to_goal(prices, tp_mean), plus_sign=TRUE)
source('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
toPercent(calc_dist_to_goal(prices, tp_mean), plus_sign=TRUE)
names(toPercent(calc_dist_to_goal(prices, tp_mean), plus_sign=TRUE))
toPercent(colSums(r_hi_daily >= val, na.rm=T) / colSums(!is.na(r_hi_daily)))
names(toPercent(colSums(r_hi_daily >= val, na.rm=T) / colSums(!is.na(r_hi_daily))))
colnames()
colnames(prices)
colnames(stats_df)
test <- r-hi_daily[, ! colnames(r_hi_daily) %in% c("SPY", "QQQ")]
test <- r_hi_daily[, ! colnames(r_hi_daily) %in% c("SPY", "QQQ")]
test
names(test)
source('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
source('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
source('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
r_hi_daily[Date(2019, 7, 11):]
r_hi_daily[Date(2019, 7, 11):,]
r_hi_daily[Date(2019, 7, 11):]
r_hi_daily[index(r_hi_daily) >= '2019-07-11']
source('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
source('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
source('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
source('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
source('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
source('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
source('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
source('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
source('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
source('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
source('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
source('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
prices
prices[, -1]
prices[, :, -1]
last(prices)
source('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
last_prices)
last(prices)
last(prices)
last(prices).T
c(last(prices))
toPercent(colSums(r_hi_daily >= val, na.rm=T) / colSums(!is.na(r_hi_daily)))
toPercent(colSums(r_hi_daily >= val, na.rm=T) / colSums(!is.na(r_hi_daily))).shape
shape(toPercent(colSums(r_hi_daily >= val, na.rm=T) / colSums(!is.na(r_hi_daily))))
shape(toPercent(colSums(r_hi_daily >= val, na.rm=T) / colSums(!is.na(r_hi_daily))))
last_data_row = last(prices)
last_data_row
last_data_row.data
index(last_data_row)
index(last_data_row)[1]
index(last_data_row)
index(last_data_row)[0]
index(last_data_row)[1]
index(last_data_row)[2]
t(last_data_row)
stats_df[, paste0("Close Price on ", last_data_date)] = t(last(prices))
last_data_date = index(last_data_row)[1]
stats_df[, paste0("Close Price on ", last_data_date)] = t(last(prices))
last_data_row = last(prices)
last_data_date = index(last_data_row)[1]
last_data_row = last_data_row[, !colnames(last_data_row) %in% c("SPY", "QQQ")]
stats_df[, paste0("Close Price on ", last_data_date)] = last_data_row
stats_df[, paste0("Close Price on ", last_data_date)] = t(last_data_row)
source('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
source('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
source('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
source('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
source('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
source('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
source('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
source('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
source('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
source('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
source('~/Desktop/scorecard/script/scorecard_T_v49_2.R')
source('~/Documents/scorecard/script/scorecard_T_v49_2.R')
install.packages("matrixStatus")
install.packages("matrixStats")
library(matrixStats)
source('~/Documents/scorecard/script/scorecard_T_v49_2.R')
install.packages("quantmod")
library(quantmod)
install.packages(c("RQuantLib", "PerformanceAnalytics"))
library(PerformanceAnalytics)
library(quadprog)
library(RQuantLib)
source('~/Documents/scorecard/script/scorecard_T_v49_2.R')
install.packages("Quandl")
library(Quandl)
source('~/Documents/scorecard/script/scorecard_T_v49_2.R')
